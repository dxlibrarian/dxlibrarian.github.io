{"version":3,"file":"static/webpack/static/development/pages/_app.js.be8897d2b6173b9328b5.hot-update.js","sources":["webpack:///./redux/createStore.js"],"sourcesContent":["import { parse } from 'query-string';\nimport Cookies from 'js-cookie';\nimport { createStore as createReduxStore, combineReducers, applyMiddleware, compose } from 'redux';\n\nimport { middlewares } from './middlewares';\nimport { reducers } from './reducers';\nimport { login, authorize } from './actions';\nimport { IS_CLIENT } from '../constants';\n\nconst composeEnhancers = (IS_CLIENT && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\n\nexport const createStore = () => {\n  const store = createReduxStore(combineReducers(reducers), composeEnhancers(applyMiddleware(...middlewares)));\n\n  if (IS_CLIENT) {\n    let jwtToken\n    ;({ jwtToken } = parse(window.location.search))\n    if(jwtToken == null) { jwtToken = Cookies.get('jwtToken'); }\n    if (jwtToken != null && jwtToken.constructor === String && jwtToken.length > 0) {\n      store.dispatch(login(jwtToken));\n    } else {\n      store.dispatch(authorize(jwtToken));\n    }\n  }\n\n  return store;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}
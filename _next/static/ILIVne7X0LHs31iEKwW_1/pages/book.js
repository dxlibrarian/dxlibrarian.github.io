(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{Q2ey:function(o,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/book",function(){return n("gKfl")}])},gKfl:function(o,e,n){"use strict";n.r(e);var t=n("nOHt"),a=n("q1tI"),r=n.n(a),u=n("5Yp1"),i=n("ANjH"),k=n("/MKj"),s=n("ZpDd"),c=n("NgOB"),l=n("3Mv1"),d=r.a.createElement,f="/images/avatar-placeholder.png";var b=Object(a.memo)((function(o){var e=o.displayMode,n=o.name,t=o.email,a=o.avatar,r=o.takeTime;return d(l.a,{topText:n,bottomText:"".concat(r," - NOW"),displayMode:e,elevation:1,img:null==a?f:a},d("a",{href:"mailto:".concat(t)},t))})),m=n("Z0lo"),p=r.a.createElement;function B(o){return function(e){return e.bookId===o}}function I(o){return console.log({userId:o.profile.userId,book:o.search.books.find(B(o.bookInfo.bookId)),users:o.bookInfo.users,displayMode:o.search.displayMode.toLowerCase()}),{userId:o.profile.userId,book:o.search.books.find(B(o.bookInfo.bookId)),users:o.bookInfo.users,displayMode:o.search.displayMode.toLowerCase()}}var v=Object(a.memo)((function(o){var e=o.bookId,n=function(){var o=Object(k.b)();return Object(a.useMemo)((function(){return Object(i.b)({getBookInfoById:s.d,onTakeBook:s.s,onReturnBook:s.i,onTrackBook:s.t,onUntrackBook:s.u,onLikeBook:s.f,onDislikeBook:s.b},o)}),[o])}(),t=n.getBookInfoById,r=n.onTakeBook,u=n.onReturnBook,l=n.onTrackBook,d=n.onUntrackBook,f=n.onLikeBook,B=n.onDislikeBook,v=Object(k.c)(I),y=v.userId,T=v.book,g=v.users,w=v.displayMode,M=Object(a.useState)(null),O=M[0],j=M[1];if(Object(a.useEffect)((function(){O||(console.log("bookinfo mounted"),j(!0),t(e))})),!O||null==T)return null;var h=T.title,E=T.author,_=T.count,L=T.img,N=T.likesCount,U=T.likes,C=T.activeUsers,D=T.trackers;return p(m.a,null,p(c.a,{bookId:e,userId:y,title:h,author:E,count:_,displayMode:w,img:L,likes:U,likesCount:N,activeUsers:C,trackers:D,onTakeBook:r,onReturnBook:u,onTrackBook:l,onUntrackBook:d,onLikeBook:f,onDislikeBook:B}),g.map((function(o,e){var n=o.name,t=o.email,a=o.takeTime,r=o.avatar;return p(b,{key:e,name:n,email:t,takeTime:a,displayMode:w,avatar:r})})))}));n.d(e,"default",(function(){return T}));var y=r.a.createElement;function T(){var o=Object(t.useRouter)().query.id;return y(u.a,null,null!=o?y(v,{bookId:o}):null)}}},[["Q2ey",1,2,0,17,18,20]]]);